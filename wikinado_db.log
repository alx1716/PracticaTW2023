/*C13*/SET SCHEMA PUBLIC
drop table if exists articulos CASCADE 
drop table if exists roles CASCADE 
drop table if exists usuario_rol CASCADE 
drop table if exists usuarios CASCADE 
drop table if exists wikis CASCADE 
drop sequence hibernate_sequence if exists
create sequence hibernate_sequence start with 1 increment by 1
create table articulos (id integer not null, contenido varchar(255), fecha_creacion date, titulo varchar(255), usuario_id bigint, wiki_id integer, primary key (id))
create table roles (id bigint not null, tipo_rol varchar(255), primary key (id))
create table usuario_rol (usuario_id bigint not null, rol_id bigint not null, primary key (usuario_id, rol_id))
create table usuarios (id bigint not null, nombre varchar(255), password varchar(255), primary key (id))
create table wikis (id integer generated by default as identity (start with 1), descripcion varchar(255), fecha_creacion date, nombre varchar(255), primary key (id))
alter table roles add constraint UK_oeqju236gywaswvb63idyw4w unique (tipo_rol)
alter table usuarios add constraint UK_io49vjba68pmbgpy9vtw8vm81 unique (nombre)
alter table articulos add constraint FKswt7sbiu8qcbmvp2nm9plrltk foreign key (usuario_id) references usuarios
alter table articulos add constraint FKrgns03ujxy41j2sv8a5tob6yr foreign key (wiki_id) references wikis
alter table usuario_rol add constraint FKe3kd49gu3mhj2ty5kl44qsytp foreign key (rol_id) references roles
alter table usuario_rol add constraint FKktsemf1f6awjww4da0ocv4n32 foreign key (usuario_id) references usuarios
drop table if exists articulos CASCADE 
drop table if exists roles CASCADE 
drop table if exists usuario_rol CASCADE 
drop table if exists usuarios CASCADE 
drop table if exists wikis CASCADE 
drop sequence hibernate_sequence if exists
DISCONNECT
/*C14*/SET SCHEMA PUBLIC
DISCONNECT
/*C15*/SET SCHEMA PUBLIC
DISCONNECT
/*C16*/SET SCHEMA PUBLIC
DISCONNECT
/*C17*/SET SCHEMA PUBLIC
DISCONNECT
/*C18*/SET SCHEMA PUBLIC
DISCONNECT
/*C19*/SET SCHEMA PUBLIC
DISCONNECT
/*C20*/SET SCHEMA PUBLIC
DISCONNECT
/*C21*/SET SCHEMA PUBLIC
DISCONNECT
/*C22*/SET SCHEMA PUBLIC
DISCONNECT
